<!DOCTYPE html>
<html lang="zh">
<head>
<script type="text/javascript">
var target;
var guess_input_text;
var guess_input;
var finished = false;
var guess = 0;

function do_game() {
    var random_number = Math.random() * 100;
    var random_number_integer = Math.floor(random_number);
    target = random_number_integer + 1;
    console.log("target is " + target)

    while (!finished) {
        guess_input_text = prompt("我想你猜\n\n"+
                                  "我在想一个1-100内的整数\n\n"+
                                  "猜猜是啥");
        guess_input = parseInt(guess_input_text);//整型为整数
        console.log("guess_input is " + guess_input);
        console.log("guess_input_text is " +  guess_input_text);
        guess += 1;
        finished = check_guess();
    }
}
function check_guess() {
/*    if (guess_input_text = "null"){
        alert("谢谢参与")
        return true;
    }
*/
    if (isNaN(guess_input)){
        alert("住手！你输入的根本不是数字")
        return false;
    }
    if ((guess_input < 1) || (guess_input_text > 100)) {
        alert("超出范围");
        return false;
    }
    if(guess_input > target){
      alert("你的太大...");
      return false;
    }
    if(guess_input < target){
      alert("你的太小...");
      return false;
    }
    if(guess_input = target){
      alert("猜对了！" + "你一共猜了" + guess +"次");
      return true;
    }

}
</script>
</head> 
<body>

<input type="button" onclick="do_game()" value="开始游戏" />

</body>
</html>
